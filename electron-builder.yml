appId: com.hive.app
productName: Hive
directories:
  buildResources: resources
  output: dist
files:
  - out/**/*
  - resources/**/*

# Native .node binaries cannot be loaded from inside an ASAR archive.
# This extracts them to app.asar.unpacked/ at build time.
asarUnpack:
  - '**/*.node'
  - '**/better-sqlite3/**'
  - '**/node-pty/**'

extraResources:
  - from: src/native/build/Release/ghostty.node
    to: native/ghostty.node

# ── macOS ──────────────────────────────────────────────
mac:
  icon: resources/icon.icns
  category: public.app-category.developer-tools
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: resources/entitlements.mac.plist
  entitlementsInherit: resources/entitlements.mac.inherit.plist
  target:
    - target: dmg
      arch:
        - arm64
        - x64
    - target: zip
      arch:
        - arm64
        - x64
  notarize: true

dmg:
  sign: false

# ── Windows ────────────────────────────────────────────
win:
  icon: resources/icon.ico

# ── Linux ──────────────────────────────────────────────
linux:
  icon: resources/icon.png
  category: Development

# ── Auto-update ───────────────────────────────────────
publish:
  - provider: github
    owner: morapelker
    repo: hive
